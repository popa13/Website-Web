<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style-v2.css">

    <title>{{ page_title }}</title>

    <script src="https://kit.fontawesome.com/e2b3e33d5c.js" crossorigin="anonymous"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['\\(','\\)'], ['$', '$']],
          displayMath: [['\\[','\\]'], ['$$','$$']]
        },
        chtml: {
          linebreaks: { automatic: true, width: "container" }
        }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>

  <body>
    
    <div class="topnav" id="myTopnav">
      <div class="topnav-inner">
        <a href="{{ home_href }}" class="leftCentering{% if active_page=='home' %} active{% endif %}">
        {{ "Accueil" if lang=="fr" else "Home" }}
        </a>

        <a href="{{ research_href }}" class="{% if active_page=='research' %}active{% endif %}">
          {{ "Recherche" if lang=="fr" else "Research" }}
        </a>

        <a href="{{ teaching_href }}" class="{% if active_page=='teaching' %}active{% endif %}">
          {{ "Enseignement" if lang=="fr" else "Teaching" }}
        </a>

        <a href="{{ tetrabrot_href }}" class="{% if active_page=='tetrabrot' %}active{% endif %}">
          {{ "TÃ©trabrot" if lang=="fr" else "Tetrabrot" }}
        </a>

        <a href="{{ en_href }}" class="{{ 'active' if lang == 'en' else '' }}">EN</a>
        <a href="{{ fr_href }}" class="{{ 'active' if lang == 'fr' else '' }}">FR</a>

        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
          <i class="fa fa-bars"></i>
        </a>
      </div>
    </div>

    <script>
      function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
          x.className += " responsive";
        } else {
          x.className = "topnav";
        }
      }
    </script>

    <!-- Optional image modal (guarded so it doesn't error on pages without modal markup) -->
    <script>
      (function () {
        var modal = document.getElementById("myModal");
        var img = document.getElementById("myImg");
        var modalImg = document.getElementById("img01");
        var captionText = document.getElementById("caption");
        if (!modal || !img || !modalImg || !captionText) return;

        img.onclick = function() {
          modal.style.display = "block";
          modalImg.src = this.src;
          captionText.innerHTML = this.alt;
        }

        var span = document.getElementsByClassName("close")[0];
        if (!span) return;

        span.onclick = function() {
          modal.style.display = "none";
        }
      })();
    </script>

    <main>
      <section class="centering bottomCentering">
        {{ content | safe }}
      </section>
    </main>

    <footer class="footer">
      <span title="All rights reserve, Copyright 2025" class="footerAligned">MATHOPO</span>
    </footer>
  </body>
</html>
